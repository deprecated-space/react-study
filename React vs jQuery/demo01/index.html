<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
    <script src="../build/react.js"></script>
    <script src="../build/react-dom.js"></script>
    <script src="../build/browser.min.js"></script>
    <script src="../jquery.min.js"></script>
    <link href="../bootstrap.min.css" rel="stylesheet" type="text/css" />
    <script src="../bootstrap.min.js"></script>
  </head>
  <body>
    <script type="text/babel">
      var TweetBox = React.createClass({
        getInitialState: function() {
          return {
            text: "",
            photoAdded: false
          };
        },

        handleChange: function(e) {
          this.setState({text: e.target.value});
        },

        togglePhoto: function(e) {
          this.setState({photoAdded: !this.state.photoAdded});
        },

        remainingCharacters: function() {
          if (this.state.photoAdded)
            return 140 - 23 - this.state.text.length;
          else
            return 140 - this.state.text.length;
        },

        render: function() {
          return (
            <div className="well clearfix">
              <textarea className="form-control" onChange={this.handleChange}></textarea>
              <br/>
              <span>{this.remainingCharacters()}</span>
              <button className="btn btn-primary pull-right" disabled={!this.state.text.length && !this.state.photoAdded}>Tweet</button>
              <button className="btn btn-default pull-right" onClick={this.togglePhoto}>{this.state.photoAdded ? "âœ“ Photo Added" : "Add Photo" }</button>
            </div>
          );
        }
      });

      ReactDOM.render(
        <TweetBox />,
        document.body
      );
    </script>
  </body>
</html>
